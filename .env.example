# ============================================
# CustomerAI Pro - 環境變數設定範本
# ============================================
# 複製此檔案為 .env.local 並填入實際值（.env.local 勿提交至版控）
#
# 不可提交：.env、.env.local、.env.*.local 已列於 .gitignore

# --------------------------------------------
# Supabase 資料庫設定
# --------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# --------------------------------------------
# OpenAI API 設定
# --------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_TIMEOUT_MS=30000
OPENAI_MAX_RETRIES=2

# --------------------------------------------
# LINE Messaging API 設定
# --------------------------------------------
LINE_CHANNEL_SECRET=your-line-channel-secret
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token
LINE_OWNER_USER_ID=your-line-owner-user-id

# LINE Login（用 LINE 登入 / 綁定 LINE，需在 LINE Developers 建立 Login channel）
LINE_LOGIN_CHANNEL_ID=your-line-login-channel-id
LINE_LOGIN_CHANNEL_SECRET=your-line-login-channel-secret

# --------------------------------------------
# Upstash Redis 快取設定（選用）
# --------------------------------------------
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# --------------------------------------------
# LemonSqueezy 付款設定（選用）
# --------------------------------------------
LEMONSQUEEZY_API_KEY=your-lemonsqueezy-api-key-here
LEMONSQUEEZY_STORE_ID=your-store-id-here
LEMONSQUEEZY_WEBHOOK_SECRET=your-webhook-secret-here

# --------------------------------------------
# 健康檢查設定
# --------------------------------------------
HEALTHCHECK_CRON_SECRET=your-cron-secret

# --------------------------------------------
# 多 Bot 加密（選用，用於 line_bots 表加密儲存）
# --------------------------------------------
# LINE_BOT_ENCRYPTION_KEY=32 字元或 64 字元 hex，用於 AES-256-GCM 加密 channel_secret / channel_access_token（舊版）
# ENCRYPTION_MASTER_KEY=32 字元或 64 字元 hex，用於 B1 envelope 加密（lib/crypto/envelope.ts），支援 encryption_version 輪替

# --------------------------------------------
# B1 事件佇列與背景處理
# --------------------------------------------
# APP_URL=正式站完整網址（供 drain 呼叫 process 用；未設時使用 VERCEL_URL）
# INTERNAL_QUEUE_SECRET=Bearer 密鑰，用於驗證 /api/internal/webhook-events/process 與 drain 呼叫
# QSTASH_TOKEN=Upstash QStash token（選用）；有設定時 webhook 寫入事件後會 enqueue 至 QStash 呼叫 process

# --------------------------------------------
# 安全性設定
# --------------------------------------------
SECURITY_STRICT_MODE=true
SECURITY_OUTPUT_FILTER_TIMEOUT=5000

# --------------------------------------------
# 告警通知設定（選用）
# --------------------------------------------
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your-webhook-url

# --------------------------------------------
# 開發 / E2E 測試
# --------------------------------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
TEST_BASE_URL=http://localhost:3000
# 正式站 E2E 需在 .env.local 設定可登入的帳密（勿提交）
TEST_USER_EMAIL=your-test-account@example.com
TEST_USER_PASSWORD=your-test-password
